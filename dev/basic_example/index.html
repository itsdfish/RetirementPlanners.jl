<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic Example · RetirementPlanners</title><meta name="title" content="Basic Example · RetirementPlanners"/><meta property="og:title" content="Basic Example · RetirementPlanners"/><meta property="twitter:title" content="Basic Example · RetirementPlanners"/><meta name="description" content="Documentation for RetirementPlanners."/><meta property="og:description" content="Documentation for RetirementPlanners."/><meta property="twitter:description" content="Documentation for RetirementPlanners."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RetirementPlanners</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Basic Example</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#Load-Packages"><span>Load Packages</span></a></li><li><a class="tocitem" href="#Create-Model"><span>Create Model</span></a></li><li><a class="tocitem" href="#Configure-Update-Options"><span>Configure Update Options</span></a></li><li><a class="tocitem" href="#Setup-Logger"><span>Setup Logger</span></a></li><li><a class="tocitem" href="#Run-Simulation"><span>Run Simulation</span></a></li></ul></li><li><a class="tocitem" href="../intermediate_example/">Intermediate Example</a></li><li><a class="tocitem" href="../advanced_example/">Advanced Example</a></li></ul></li><li><a class="tocitem" href="../plotting/">Plotting</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Basic Example</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basic Example</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/itsdfish/RetirementPlanners.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/itsdfish/RetirementPlanners.jl/blob/main/docs/src/basic_example.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h1><p>The purpose of this example is to illustrate how to use <code>RetirementPlanners.jl</code> in a simple scenario. As such, the goal is to understand the API rather than create the most realistic simulation of investment performance. For more realistic examples, please read the documentation for <a href="../intermediate_example/">intermediate example</a> and <a href="../advanced_example/">advanced example</a>. </p><h1 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h1><p>The example below uses simple functions for updating quanties such as inflation, interest, and net worth through out the simulation. Each update function has default parameter values which we will change. You can change the default functions either by selecting predefined functions described in the <a href="./api.md/#Update-Methods">API</a>, or by defining your own custom functions. </p><h2 id="Load-Packages"><a class="docs-heading-anchor" href="#Load-Packages">Load Packages</a><a id="Load-Packages-1"></a><a class="docs-heading-anchor-permalink" href="#Load-Packages" title="Permalink"></a></h2><p>The first step is to load the packages required for simulating a retirement scenario and analyzing the results. With the keyword <code>using</code>, the code block below loads <code>RetirementPlanners</code> to run the simulation, and <code>Plots</code> to plot the results of the simulation. </p><pre><code class="language-julia hljs">using Plots
using RetirementPlanners</code></pre><h2 id="Create-Model"><a class="docs-heading-anchor" href="#Create-Model">Create Model</a><a id="Create-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Create-Model" title="Permalink"></a></h2><p>The code block below shows the minimum setup required to create a model object, which maintains various parameters of the simulation, including timing variables and update functions. You must enter a value for the following keyword parameters:</p><ul><li><code>Δt</code>: the time step in years </li><li><code>start_age</code>: your age in years at the beginning of the simulation</li><li><code>duration</code>: the number of years to simulate</li><li><code>start_amount</code>: the amount of money you have in investments at the beginning of the simulation</li></ul><p>In this basic example, we will assume you start saving for retirement at age 25, and begin with a modest amount of <code>$10,000</code>. The simulation will update on a monthy basis and continue for 55 years until you reach age 80. </p><pre><code class="language-julia hljs">model = Model(;
    Δt = 1 / 12,
    start_age = 25,
    duration = 55,
    start_amount = 10_000,
    withdraw! = fixed_withdraw,
    invest! = fixed_investment,
    update_inflation! = fixed_inflation,
    update_interest! = fixed_interest,
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">Model
┌───────────────────┬─────────────────────────────────────┐
│ Field             │ Value                               │
├───────────────────┼─────────────────────────────────────┤
│ Δt                │  0.08                               │
│ duration          │ 55.00                               │
│ start_age         │ 25.00                               │
│ start_amount      │ 10000.00                            │
│ state             │ State(0.0, 0.0, 0.0, 0.0, 0.0, 0.0) │
│ withdraw!         │ fixed_withdraw                      │
│ invest!           │ fixed_investment                    │
│ update_income!    │ variable_income                     │
│ update_inflation! │ fixed_inflation                     │
│ update_interest!  │ fixed_interest                      │
│ update_net_worth! │ default_net_worth                   │
│ log!              │ default_log!                        │
└───────────────────┴─────────────────────────────────────┘
</span></code></pre><p>The output above summarizes the configuration of the <code>Model</code> object. First, we can see the provided inputs at the top of the table. The field called <code>state</code> stores current values of the system for each time step, including investment amount, and net worth. You can see the details of the <code>State</code> object by expanding the menu below.</p><details>
<summary><b>Show State</b></summary><pre><code class="language-julia hljs">model.state</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">State
┌─────────────────┬───────┐
│ Field           │ Value │
├─────────────────┼───────┤
│ interest_rate   │  0.00 │
│ inflation_rate  │  0.00 │
│ income_amount   │  0.00 │
│ invest_amount   │  0.00 │
│ withdraw_amount │  0.00 │
│ net_worth       │  0.00 │
└─────────────────┴───────┘
</span></code></pre></details><p>The next seven fields in the <code>Model</code> object correspond to update functions called interally by a function called <code>update!</code>. For simplicity, we will use the following functions:</p><ul><li><code>fixed_withdraw</code>: withdraw a fixed amount from investments on each time step starting at a specified age</li><li><code>fixed_investment</code>: invest a fixed amount on each time step until a specified age is reached</li><li><code>fixed_income</code>: recieve a fixed income (e.g., social security, or pension) on each time step starting at a specified age</li><li><code>fixed_inflation</code>: a fixed yearly inflation rate used to adjust interest (i.e., growth) earned on investments</li><li><code>fixed_interest</code>: a fixed yearly interest rate earned on intestments </li><li><code>default_net_worth</code>: computes net worth on each time step based on inflation, interest, investments, and withdraws. </li><li><code>log!</code>: records interest rate, inflation rate, and net worth on each time step</li></ul><p>You can view additional documentation for the update functions above via <code>? function_name</code> in the REPL, or referencing the <a href="./api.md/#Update-Methods">API</a>.</p><h2 id="Configure-Update-Options"><a class="docs-heading-anchor" href="#Configure-Update-Options">Configure Update Options</a><a id="Configure-Update-Options-1"></a><a class="docs-heading-anchor-permalink" href="#Configure-Update-Options" title="Permalink"></a></h2><p>The seven update functions described above include default input values for relevant quantities, such as interest rate on investments. However, you can optionally overwrite the default values by passing a configuration data structure to the function <code>simulate!</code>, as described below. </p><p>The configuration data structure is a nested <code>NamedTuple</code> (i.e., immutable keyword-value pairs), where the keywords in the first level correspond to the keyword inputs of the update functions. For example, the keyword <code>kw_invest</code> (short for keyword invest) is a set of keywords passed to the function <code>fixed_investment</code>.</p><p>In our running scenario, we will assume that you invest <code>$2,000</code> each month until early retirement at age 40. The yearly interest rate on investments is <code>.08</code>, which is inflation adjusted by a yearly rate of <code>.035</code>. Upon reaching 40 years old, we will assume you will draw <code>$2,200</code> per month.  </p><pre><code class="language-julia hljs">config = (
    # invest parameters
    kw_invest = (
        invest_amount = 2000.0,
        end_age = 40,
    ),
    # interest parameters
    kw_interest = (
        interest_rate = .08,
    ),
    # inflation parameters
    kw_inflation = (
        inflation_rate = .035,
    ),
    # withdraw parameters
    kw_withdraw = (
        withdraw_amount = 2200.0,
        start_age = 40,
    )
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(kw_invest = (invest_amount = 2000.0, end_age = 40), kw_interest = (interest_rate = 0.08,), kw_inflation = (inflation_rate = 0.035,), kw_withdraw = (withdraw_amount = 2200.0, start_age = 40))</code></pre><h2 id="Setup-Logger"><a class="docs-heading-anchor" href="#Setup-Logger">Setup Logger</a><a id="Setup-Logger-1"></a><a class="docs-heading-anchor-permalink" href="#Setup-Logger" title="Permalink"></a></h2><p>The next step is to initialize the data logger. On each time step, the data logger stores the following quantities: </p><ul><li>annualized interest rate</li><li>annualized inflation rate</li><li>net worth. </li></ul><p>The <code>Logger</code> object requires two inputs: </p><ul><li><code>n_steps</code>: the total number of time steps in one simulation</li><li><code>n_reps</code>: the total repetitions of the simulation. </li></ul><p>The total number of time steps can be found by getting the length of the time steps. In this simple scenario, we will set <code>n_reps=1</code> because the simulation is deterministic (i.e., it provides the same result each time). </p><pre><code class="language-julia hljs">times = get_times(model)
n_steps = length(times)
n_reps = 1
logger = Logger(;n_reps, n_steps)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">Logger
┌───────────┬────────────────────────────┐
│ Field     │ Value                      │
├───────────┼────────────────────────────┤
│ net_worth │ [0.0; 0.0; … ; 0.0; 0.0;;] │
│ interest  │ [0.0; 0.0; … ; 0.0; 0.0;;] │
│ inflation │ [0.0; 0.0; … ; 0.0; 0.0;;] │
└───────────┴────────────────────────────┘
</span></code></pre><h2 id="Run-Simulation"><a class="docs-heading-anchor" href="#Run-Simulation">Run Simulation</a><a id="Run-Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Run-Simulation" title="Permalink"></a></h2><p>Now that we have specified the parameters of the simulation, we can use the function <code>simulate!</code> to generate retirement numbers and save them to the <code>Logger</code> object. As shown below, <code>simulate!</code> requires our <code>Model</code> object, <code>Logger</code> object, and the number of repetitions. The optional configuration object is passed as a variable keyword using <code>; config...</code>, which maps the nested keywords in the <code>NamedTuple</code> to the corresponding keywords defined in the <code>simulate!</code> method signature. Those <code>NamedTuples</code> are then passed to the appropriate update functions. </p><pre><code class="language-julia hljs">simulate!(model, logger, n_reps; config...)</code></pre><p>The code block below plots net worth as a function of age. The time steps are contained in <code>times</code> and net worth is contained within the <code>Logger</code> object. </p><pre><code class="language-julia hljs">plot(times, logger.net_worth, grid=false, xlabel=&quot;Age&quot;, ylabel=&quot;Net Worth&quot;)</code></pre><img src="f97ccb17.svg" alt="Example block output"/><p>Based on the assumptions we have made, you will have <code>$</code>263,027 remaining in investments at age 80. Needless to say, this simulation is too simplistic to be of much use. Perhaps the most significant limitation is that is deterministic: investments, withdraws, infation, and interest are fixed throughout. In actuality, these values vary across time, thus introducing uncertainty into the planning process. The <a href="../intermediate_example/">intermediate example</a> and the <a href="../advanced_example/">advanced example</a> make progress towards overcoming these limitations.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../intermediate_example/">Intermediate Example »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Sunday 28 January 2024 12:17">Sunday 28 January 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
